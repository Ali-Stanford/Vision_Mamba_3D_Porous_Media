from openai import OpenAI

client = OpenAI(api_key="key")

system_message = (
    "You are a structure‐generation assistant. You MUST follow these rules exactly.\n"
    "Do NOT copy any example from the example below.\n"
    "Do Not write any codes. Learn from the patterns I gave you."
)

user_prompt = """
You are helping design realistic 2D porous media. Each structure is a 32×32 binary grid (0 = pore, 1 = solid). Your goal is to propose 15 new designs with permeability of 10.

Instructions:
- Output exactly 5 structures.
- For each structure:
  1. Start with a line: `New Structure N:`  
  2. On the next line write `Structure:`  
  3. Then output exactly 32 rows of 32 digits (0 or 1).
- Porosity (fraction of 0’s) must be between 0.25 and 0.50 (inclusive).
- There must be at least one continuous path of adjacent 0’s (horizontally or vertically, no diagonal jumps) from column 0 to column 31.
- No row may be all 0’s or all 1’s.
- No column may be all 0’s or all 1’s.
- Do not use Python or any other code to generate the structures.
- Do not describe your method, and do not include comments or extra explanations.
- Output everything in plain text, exactly as shown above.

Example 1:
Porosity: 0.50
Permeability: 7.7687
Structure:
11101111011100001010000111011101
11011111110000000010111111110000
11111100010111011001101111101110
00001000111001111111011010110101
10001011111101100110100110001000
11111000000000001100000110100101
00010010100110000001111000100110
10111001100100001011010000001001
01001000001000001110100110100001
01100011010111111011100101000100
00100010100101100000001010011010
01011011000011100111111011111111
11011110111101000111111010111011
11110111000000101111011101011000
11110000101000001010011110101111
00001001100010111111010100100111
01001001110000101000011111010011
00010001010101011000101001011001
11011111100011111101011111010011
10010011011010100110110010011000
00100011010000101111001110100010
01001110000000011001000111101100
00100100010100010101111100111101
10001100010110000100101000111100
00100001111101110111100110101100
00101000100111100000001011001110
11010010011000100101011001101101
11101010101111101010100001100110
00001100110101000100010011010111
10110101000010001001101000001001
00010010101100000011001111110011
01100111101110101111100101110011

Example 2:
Porosity: 0.48
Permeability: 7.1120
Structure:
01101000011011100100111010010011
00101001111010110110101111010101
10110110101101001100111100010000
11010010011001100111000011001101
01000111101110011101110110110101
11111011010011011111110110100110
11101111000001101111100001110000
11101100110100111111111101111010
10000011010111111011100011111010
11010110100111111011000111001010
10111001000000101101111100111100
01110001010010000000110100011011
10101110000101111101100101110000
10010010000101001000011100101010
10011010010110110011011110000111
11000000001100110011000110111001
01111110100110001011010011011011
10010100101100100000001000001000
01111101110011111111001001110011
10001100101101110011011101111010
00001001001110100101111001111110
11001010101001110011000101110000
10110001001110111101111001110000
00000011000101100010011001111000
00011001101010110111000000011011
01000100101001111011000101000001
11111011110101011101010101010000
11000100101101010100010100100101
00000000111110111101111000100001
11101111111011000001110001100110
01100110100100000111001100101011
11100100111100111011011010001010

Example 3:
Porosity: 0.50
Permeability: 12.3298
Structure:
11000010100011011001001111000001
10001011010011100011100011100111
11111100100111111111010110101011
01000010100010101010000001111111
00001001100011100000001000101010
11100010110001110010111001110111
01111010100000011100000110000010
10100111101010111100101101001001
01100110001111001000111010010110
11001110110010100111101010000001
11000101111101111011000011100101
10110011110110001000001100111101
10011101011011110001111001111011
00110111101000011110011101001101
10111011110010010011100010000000
11110001010000000010000000111110
10110010110010000000001000010010
11000000000100110010100110010010
00001011100100010100011110100101
10011000010011100000110101100010
10110011000110001110110010000001
10001001101001111101100111111010
01101110100100101101100001010011
00111110101111000001111111111101
11111101011010010101110101010010
10101110010010111111011101101010
10000010001101001111000110110010
10001100110011011110100011000100
11010100100101100111101001111111
11011010001110010110000100111110
11111101100001000110001110100100
01001101110100000100010001011101

Example 4:
Porosity: 0.49
Permeability: 8.9662
Structure:
10101100111001000011111010110001
11110011000010111000010101100111
00000100110100100000101011101010
11101110001011000110001010000011
11100000101011101110101010110101
10001000001111111100000011100110
00111111101100000001111010110011
00001111100001110111101000000110
11110100010011010111111110110111
01000111110001110011100111000111
11111000101011110001011001100001
10110111110000000000000001001100
01001011010101000100111010110101
11000100101010000110011100000101
01001000011001111001111111010011
00110001001101010011101110101010
00110001111111101010100110010100
01101100011101100000100001111000
01111101010000111001100100011101
10010011111000010000011010011011
11101101000110011101011110000100
00001001101011010000100100010001
10111001111110101100101001111100
01101111111110111110010110010011
00000110010001111010111000100010
00100110011100101010001100001111
11010101011011000100110100101101
10100011010111001000111011101010
11100010110100100010010001110110
10010011000111100100101100001001
01001111110110101110101011001111
11111101000001001011110011001110

Example 5:
Porosity: 0.49
Permeability: 9.3529
Structure:
10100111001010001011110101101111
11100110010010111100101111111110
01010110000101100001110111001101
00101110101010101100011111101010
11010111000110100010110001010001
00101100001001101010001110111101
10010111011010110100110010101000
00111100100100111001110110000001
01101011101011110100111000111011
00110001110001011110010110111011
00000001100100011110100111110110
11010001001101000011001111000110
10111001111010010000000000001100
10101000000000111110111100011110
01010101101110000110001011011100
11011001101010011000010111000001
10110101111001001100000111110010
10010010001001001000110111010110
10011111010100011111110101110010
11111100011100001011010110110111
00011010011011001111000100101110
10010000011100000111101101010110
00000100110000110100000010011111
11000100100100110111110100110110
11100001011001111000100100101110
00110001111100010001000101111111
00101010101000111110101010011010
11101011110011101100110011011100
10100110001011100110100010011011
01100101100100101110001001001011
00010001101010011010110100101110
00101010110000110111001111101100

Example 6:
Porosity: 0.49
Permeability: 8.4887
Structure:
00000100110011101101001110111000
01011010011000111110111010100001
10001110010100101100001000011111
11101011011100011111110001111100
00011100110001101100010011001000
11101101111101101010101000101010
01110001001110110101000000111110
11111011001100001001110101111000
11011001101101111100110011001111
01111110110110100111101101110011
11011010100101110001111010000101
10101110000010000001010011010110
01001000101000001010101011010001
11101101100110100010010011010101
01100110111001101100001110100101
11011000001100000100101111001111
10100000000110101011011001010100
10111001110010011010100011110111
00101011100000101000001011101111
10010011110011100110100111110100
11000110111010001110111100000101
00111000110000001011010000000011
10011110010010101010111101000000
11100010010110000000011000101101
10000011100011011110000010010001
11010000111110111101100001110100
01011101011000011001111011000000
11111000110001011000100101001101
10011000011111001110001100001101
11100100010101101111100101110101
11100011100000001101000011001100
01100100011110010011001110011111

Example 7:
Porosity: 0.50
Permeability: 7.7093
Structure:
11010110001110110100110111111001
01000100111000000010101100010001
00010010001111011000111100011100
11111000100110111000011011000010
10110001100111000100101110111111
01110011011011000111101000110001
01010111001101110111101100101110
10011101010011100101001010000111
10110010000100110001111101110111
00101101111110101101010110000000
11010011000111000110101001110110
10011000101011101111100101111111
01001111101100101000011100110100
00000000101000100100111011010110
01010000010000010100110100000010
11100000001010001111111011101111
11100111100001001100010000101010
00110100001000000110101011100100
10000100010101011111101010110101
11100000111100101110000001110001
00001111110110111111011011100011
01101110000100000100011111100111
10000110100101100001001001110100
00111001101011000001010011100111
10111010011110101110111111001001
10110110010001000000010100011000
11111010111011111001010011011001
10011110100110010010000011001110
01101110000011000001001000011110
01110000001111011001101110000110
10011000100101010011000000000111
11010010110111111110010001100100

Example 8:
Porosity: 0.48
Permeability: 9.0972
Structure:
10001001011010101101001010011010
10111110001111110100110111101101
11111100001101001101100111111001
01001011101010001000000101010110
10010111000011110101100001100111
11000111100010111110000000001101
11010111101111111100101100000101
01111111010010110010110100001101
11101110110000110001001001100010
00111001100011000001110001010101
11010101111101001100010111100101
10011111111100001111110111011100
11000111011010010100011001111000
00011101011100110011001110011110
00011000001100001011111111100010
00010010101111000011110000000110
01000000100111110011110001100001
01011010011101001110000001100011
10110100001101011101111010101001
00010011000011101010110111001010
10100110101100010000111000111111
11000111000000000100010101101010
00000001101000100110000100011011
10101010010110111101110110111011
11111010111000010110000101110011
01011011110110011011110101010011
00110001001011101011100110000111
10011101110111111011110000010010
00001100101101011100110111000000
01001110100100001001111110000100
10110011010100101010011101101010
11101110100010100010100110001010

Example 9:
Porosity: 0.50
Permeability: 8.5154
Structure:
00010011100111100001111111111111
00001101100000011111111110000101
10010111100110101001101111110100
11010011101101000100110101000001
10010110000001000100101001110100
00110000010110010011111101001100
10111110000111110100011011011111
00011100110101101110100010100010
10001001000110111101111111011111
01101001011011111110100111001001
11000011001011100110100010001001
10110011011111110100001000001011
01000111001100111101111001111100
01001101001010110000011001010010
11001100010110000010010101011101
01110101010000010001110100001100
01111010000001100011111110011110
01110101101111000001001011001010
11010111100101001001101010001100
10111011101010111110001001000101
10110010100100001000000110100110
10111111100011110110010110000000
00111100000111110111000101100000
10101011011001111101001000010011
00011000011100001100110100001101
10011001010100111110101111100111
11000010011111010101111000101100
01111101000111001001001110010100
11100011100000100011000100011110
00100101110110110110010001110011
01011110011110010000011110000111
00010000010000000000111000111000

Example 10:
Porosity: 0.49
Permeability: 5.2873
Structure:
01101101011000101100101010110000
11111111101111110001010100000011
11010010010011111000000000010110
11100011001001000010111111101110
01011100000001000100111000010011
10011000100101101010000011001010
00110110010001000001101110011111
00010100011111111110101100110100
10110010100111010000011000101101
10101011111001101100000101110011
01111001000100011101100000010001
11010011010000010101110011001000
11100111000101011000000111110000
10111010010011110010011110001110
11111110011000000100111011110100
11101101100110100111001100010000
01110100110100111100111101101101
11111100100000010110100010101111
00100101100100111011101110010101
01011101000000110011010110101001
00111111011101000001000001010101
01000110011110110111110101100011
10000001010000111100111101110011
01100110001011110011101010100110
00011100011010010010011110101110
11011000111101010101100110110111
01000011101111110011100110010010
11111010011111111001100001100000
11110101110101110111101011111010
10001010011000000111111000011000
10010010110000000010000010000010
01111000001110101010110001100110
"""

response = client.chat.completions.create(
    #model="gpt-4o",  # Or "gpt-4o" or "gpt-3.5-turbo"

    model="o4-mini",  # Base model ID
    reasoning_effort="high",  # Enables 'high' reasoning

    messages=[
        {"role": "system", "content": system_message},
        {"role": "user", "content": user_prompt}
    ],
    temperature=1.00
)

print(response.choices[0].message.content)
